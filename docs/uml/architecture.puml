@startuml

'skinparam linetype ortho
'skinparam linetype polyline

package mtRooms {
    package "gui" {
        [BillingView]
        [LogisticsView]
        [ReservationView]
        [PaymentView]
    }

    package "reservation" {
        component ReservationSystem {
            interface IReservationSession
            interface IReservationPayment
            [ReservationSession]
            interface IOptimisedSearch
            [OptimisedSearch]
            interface IPaymentProcessing
            [PaymentProcessing]
            interface IReservation
            [Reservation]

            IReservationSession -- ReservationSession
            IReservationPayment -- ReservationSession
            IOptimisedSearch -- OptimisedSearch

            ReservationSession --( IOptimisedSearch

            IReservation -- Reservation
            IPaymentProcessing -- PaymentProcessing
        }
    }

    package "customer" {
        interface ICustomerAccountAccess
        [CustomerAccountAccess]

        ICustomerAccountAccess -- CustomerAccountAccess
    }

    package "revenue" {
        [RevenueReportGenerator]
        interface IRevenueReportGenerator
        [InvoiceSender]
        interface IInvoiceSender

        IRevenueReportGenerator -- RevenueReportGenerator
        IInvoiceSender -- InvoiceSender
    }

    package "operation" {
        [LogisticReportGenerator]
        interface ILogisticReportGenerator

        ILogisticReportGenerator -- LogisticReportGenerator
    }

    package "db" {
        interface IDatabaseAccessDelegate

        component DatabaseAccessSystem {
            interface IDatabase
            database Database
            [DatabaseAccess]
            interface ITimeZoneTranslation
            [TimeZoneTranslation]
            ITimeZoneTranslation -- TimeZoneTranslation

            DatabaseAccess --( ITimeZoneTranslation
            IDatabase -- Database
            IDatabaseAccess -- DatabaseAccess
            DatabaseAccess --( IDatabase
        }

        IDatabaseAccessDelegate --( IDatabaseAccess
    }



    IInvoiceSender )-up- BillingView
    ILogisticReportGenerator )-up- LogisticsView
    ReservationView --( IReservationSession
    PaymentView --( IReservationPayment

    ReservationSession --( IPaymentProcessing
    ReservationSession --( IReservation
    ReservationSession --( ICustomerAccountAccess
    'OptimisedSearch -right-( IReservation

    Reservation --( IDatabaseAccessDelegate

    CustomerAccountAccess --( IDatabaseAccessDelegate
    CustomerAccountAccess --( IDatabaseAccessDelegate
    CustomerAccountAccess --( IDatabaseAccessDelegate

    PaymentProcessing --( IDatabaseAccessDelegate
    LogisticReportGenerator --( IDatabaseAccessDelegate
    InvoiceSender --( IDatabaseAccessDelegate
    InvoiceSender --( IDatabaseAccessDelegate
    RevenueReportGenerator --( IDatabaseAccessDelegate
    RevenueReportGenerator --( IDatabaseAccessDelegate
}

@enduml